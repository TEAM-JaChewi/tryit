<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments/header :: header"></head>

<body>
<!-- ======= Header ======= -->
<div th:replace="fragments/body-header :: body-header" id="header" class="fixed-top d-flex align-items-center"></div>

<!-- ======= Section ======= -->
<section class="cart common">
  <div class="container">
    <h3 class="text-center mb-5">
      CART LIST
    </h3>

    <div class="cart-list">
      <table class="table">
        <colgroup>
          <col width="5%">
          <col width="10%">
          <col width="45%">
          <col width="10%">
          <col width="10%">
          <col width="10%">
          <col width="10%">
        </colgroup>
        <thead>
        <tr class="text-center">
          <th>
            <input type="checkbox" id="check-all">
          </th>
          <th>이미지</th>
          <th class="text-left">상품정보</th>
          <th>금액</th>
          <th>수량</th>
          <th>합계</th>
          <th>선택</th>
        </tr>
        </thead>

        <tbody>
        <tr class="text-center" th:each="cartListDto : ${cartListDtos}">
          <td>
            <input type="checkbox" id="check-box">
          </td>
          <td>
            <a th:href="@{/items/{id}(id=${cartListDto.itemId})}">
              <img th:src="|/files/${cartListDto.mainImage.getStoreFileName()}|" width="100" height="100"/>
            </a>
          </td>
          <td th:text="${cartListDto.itemName}"></td>
          <td>
            <span th:text="${cartListDto.itemPrice}"></span>원
          </td>
          <td>
            <label for="quantity"></label>
            <input type="number" id="quantity" min="1" th:value="${cartListDto.quantity}">
          </td>
          <td>
            <span th:text="${cartListDto.totalPrice}"></span>원
          </td>
          <td>
            <button type="button" class="btn btn-custom btn-sm">삭제</button>
          </td>
        </tr>
        </tbody>

        <tfoot>
        <tr>
          <td colspan="10" class="cart-total-info">
            결제 예정 금액: <span>0</span>원
          </td>
        </tr>
        </tfoot>
      </table>
    </div>

    <div class="cart-btn text-center">
      <a class="btn btn-dark">전체 상품 주문</a>
      <a class="btn btn-secondary">선택 상품 주문</a>
      <a class="btn btn-custom" href="/items">쇼핑 계속하기</a>
    </div>
  </div> <!-- /container -->
</section>

<!-- ======= Footer ======= -->
<div th:replace="fragments/footer :: footer"></div>

<!-- ======= Js ======= -->
<script th:inline="javascript">
  /* 체크박스 전체 선택 */
  $("#check-all").click(function() {
    if($("#check-all").prop("checked")) {
      $("input:checkbox[id=check-box]").prop("checked", true);
    } else {
      $("input:checkbox[id=check-box]").prop("checked", false);
    }
  });


</script>
</body>

</html>